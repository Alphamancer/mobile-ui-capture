# Mobile UI Capture Tool

一个强大的Android设备UI层次结构捕获和分析工具，提供实时可视化界面，帮助开发人员和测试人员更高效地分析应用界面。

## 功能特点

- **实时UI捕获**：通过USB连接Android设备，捕获当前界面的UI层次结构和截图
- **自动/手动捕获模式**：支持单次捕获或设定时间间隔的自动捕获
- **交互式UI可视化**：直观显示UI元素层次结构，支持深层选择和元素高亮
- **详细属性查看**：查看每个UI元素的详细属性信息
- **XPath生成**：自动生成简单和完整的XPath，便于自动化测试使用
- **节点数量显示**：直观展示每个节点的子节点数量，点击即可查看详情
- **搜索功能**：快速搜索特定UI元素
- **结果保存**：将捕获的UI结构和截图保存到本地

## 安装步骤

1. 克隆仓库到本地：
   ```
   git clone https://github.com/yourusername/mobile-ui-capture.git
   cd mobile-ui-capture
   ```

2. 安装依赖包：
   ```
   pip install -r requirements.txt
   ```

3. 确保已安装Android SDK和ADB工具，并已添加到系统PATH中

## 使用方法

1. 启动应用：
   ```
   python app.py
   ```

2. 在浏览器中访问：`http://localhost:5000`

3. 连接设备：
   - 确保Android设备已启用USB调试模式
   - 通过USB将设备连接到电脑
   - 在Web界面中选择设备并点击"连接"

4. 捕获UI：
   - 点击"立即捕获"进行单次捕获
   - 或设置刷新间隔，点击"开始自动捕获"进行持续捕获

5. 分析UI：
   - 在左侧树形结构中浏览UI层次
   - 点击节点或节点数量查看详细属性
   - 在右侧预览区域中可视化查看UI元素
   - 使用搜索框快速查找特定元素

6. 生成XPath：
   - 选择UI元素后，在详情面板中点击"获取简单XPath"或"获取完整XPath"
   - 点击"复制"按钮将XPath复制到剪贴板

7. 保存结果：
   - 点击"保存结果"将当前捕获的UI结构和截图保存到本地

## 功能截图

![功能截图](https://example.com/screenshot.png)

## 系统要求

- Python 3.7+
- Android设备（启用USB调试）
- 现代Web浏览器（Chrome、Firefox、Edge等）

## 常见问题

- **找不到设备？** 确保已启用USB调试，并授权电脑访问设备
- **捕获失败？** 尝试断开并重新连接设备，或重启应用
- **UI显示异常？** 部分设备可能需要调整屏幕缩放比例以获得最佳显示效果

## 贡献

欢迎提交问题报告和改进建议，或直接提交Pull Request。

## 许可

本项目采用MIT许可证。详见LICENSE文件。 